from graph import *

def bellman_ford(G):
    initialize_single_source(G,G.V[0])
    for i in range(0,len(G.V)):
        for e in G.E:
            relax(G.V[e[0]], G.V[e[1]])
    for e in G.E:
        if G.V[e[1]].d > G.V[e[0]].d + G.E[e]:
            return False
    return True

W = [[0,3,1000,1000,1000,1000,1000],
    [1000,0,4,9,1000,5,1000],
    [1000,1000,0,4,5,1000,1000],
    [3,1000,1000,0,1000,1000,1],
    [1000,1000,1000,5,0,1000,4],
    [4,1000,1000,1000,1,0,1000],
    [1000,1000,1000,1000,1000,2,0]]

Wneg = W = [[0,3,1000,1000,1000,1000,1000],
    [1000,0,4,9,1000,5,1000],
    [1000,1000,0,4,-10,1000,1000],
    [3,1000,1000,0,1000,1000,1],
    [1000,1000,1000,5,0,1000,4],
    [4,1000,1000,1000,1,0,1000],
    [1000,1000,1000,1000,1000,-4,0]]

Wneg_c= [[0,3,1000,1000,1000,1000,1000],
    [1000,0,4,9,1000,5,1000],
    [1000,1000,0,4,-10,1000,1000],
    [3,1000,1000,0,1000,1000,1],
    [1000,1000,1000,5,0,1000,4],
    [2,1000,1000,1000,1,0,1000],
    [1000,1000,1000,1000,1000,-4,0]]


g = Graph(Wneg_c)

print bellman_ford(g)

for i in g.V:
    print i.d
